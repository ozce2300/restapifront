let e=document.getElementById("open-menu"),t=document.getElementById("close-menu");function n(){let e=document.getElementById("nav-menu");"none"===window.getComputedStyle(e).display?e.style.display="block":e.style.display="none"}e.addEventListener("click",n),t.addEventListener("click",n);const o="https://restapi-izio.onrender.com/cv/";async function r(e){if((await fetch(`${o}${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}})).ok){let t=document.querySelector(`[data-id="${e}"]`).parentElement;t.parentNode.removeChild(t)}else console.log("Kunde inte radera CV-post.")}!async function(){let e=await fetch(o),t=await e.json(),n=document.getElementById("main-container");n&&t.forEach(e=>{let t=new Date(e.startdate).toISOString().split("T")[0],o=new Date(e.enddate).toISOString().split("T")[0],a=document.createElement("article");a.innerHTML=`<p> <strong>F\xf6retagsnamn: </strong>${e.companyname}<br> 
        <strong>Jobbtitel:</strong> ${e.jobtitle}<br> 
        <strong>Plats: </strong>${e.location}<br>
        <strong>Startdatum:</strong> ${t}<br>
        <strong>Slutdatum:</strong> ${o} <br>
        <strong>Beskrivning av arbetet:</strong> <br>${e.description}<br> </p>
        <button type="button" class="radera" data-id="${e.id}">Radera</button>`;let i=a.querySelector(".radera");i.addEventListener("click",function(){r(i.getAttribute("data-id"))}),n.appendChild(a)})}();let a=document.querySelector("form");async function i(e){let t=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});t.ok&&(document.getElementById("companyname").value="",document.getElementById("jobtitle").value="",document.getElementById("location").value="",document.getElementById("startdate").value="",document.getElementById("enddate").value="",document.getElementById("description").value=""),console.log(await t.json())}a&&a.addEventListener("submit",function(e){e.preventDefault(),document.getElementById("container-error").innerHTML="";let t=document.getElementById("companyname").value,n=document.getElementById("jobtitle").value,o=document.getElementById("location").value,r=document.getElementById("startdate").value,a=document.getElementById("enddate").value,l=document.getElementById("description").value;""===t&&(document.getElementById("container-error").innerHTML+=`<li>Skriv in f\xf6retagsnamn</li><br>`),""===n&&(document.getElementById("container-error").innerHTML+="<li>Skriv in jobbtitel</li><br>"),""===o&&(document.getElementById("container-error").innerHTML+="<li>Skriv in plats</li><br>"),""===r&&(document.getElementById("container-error").innerHTML+="<li>Skriv in startdatum</li><br>"),""===a&&(document.getElementById("container-error").innerHTML+="<li>Skriv in slutdatum</li><br>"),""===l&&(document.getElementById("container-error").innerHTML+="<li>Skriv in beskrivning</li><br>");let d={companyname:t,jobtitle:n,location:o,startDate:r,endDate:a,description:l};console.log("cv-objektet:",d),i(d)});
//# sourceMappingURL=index.c6145012.js.map
